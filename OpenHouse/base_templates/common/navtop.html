{% load static %}
<!-- Google Translate -->
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'zh-TW',
            autoDisplay: false,
            includedLanguages: 'zh-TW,zh-CN,en,ja,ko',
            layout: google.translate.TranslateElement.InlineLayout.VERTICAL
        }, 'google_translate_element');
    }

    $(window).load(function() {
        $('.goog-te-gadget').html($('.goog-te-gadget div'));
    });

    $(function(){
        $('.selectpicker').selectpicker();
    });

    function goTranslate(lang) {
        $('.goog-te-combo').val(lang);

        const triggerEvent = (element, eventName) => {
            const event = new Event(eventName);
            element.dispatchEvent(event);
        };
        triggerEvent(document.querySelector('.goog-te-combo'), 'change');
    }
</script>
<div class="ui inverted pantone menu borderless stackable">
    <div class="oh-image">
        <a href="/">
            <img src={% static 'images/oh_logo_2023_blue.png' %} alt="校園徵才" style="height: 64px; padding-right: 1rem;">
        </a>
    </div>
    <!--公司部份!-->
    {% if user.is_authenticated and user.is_company %}
        <a class="{{ menu_ui.index }} item" href="{% url 'company_index' %}">
            廠商入口
        </a>
        <a class="{{ menu_ui.info }} item" href="{% url 'info' %}">
            公司資料
        </a>
        {% if nav_configs.show_recruit %}
            <a class="{{ menu_ui.recruit }} item" id="navtop_rdss_btn" href="{% url 'recruit_company_index' %}">
                春季徵才
            </a>
        {% endif %}
        {% if nav_configs.show_rdss %}
            <a class="{{ menu_ui.rdss }} item" href="{% url 'rdss_company_index' %}">
                秋季招募
            </a>
        {% endif %}
        <a class="item" id="navtop_faq_btn" href="{% url 'FAQ' %}">
            常見問題
        </a>
        <a class="right item" href="{% url 'logout' %}">
            登出 {{ request.user.username }}
        </a>

    <!--一般使用者(學生)!-->
    {% else %}
        {% if nav_configs.show_recruit %}
            <div class="ui simple dropdown item" id="recruit_navtop_dropdown" style="font-size: 13pt;">
                春季徵才
                <i class="dropdown inverted icon"></i>
                <div class="menu">
                    <a class="item" href="{% url 'public' %}">
                        活動資訊
                    </a>
                    <a class="item" href="{% url 'list_jobs' %}">
                        職缺列表
                    </a>
                    {#                <a class="item" href="{% url 'query_points' %}">#}
                    {#                    查集點#}
                    {#                </a>#}
                    </div>
                </div>
            {% endif %}
            {% if nav_configs.show_rdss %}
                <div class="ui simple dropdown item" id="rdss_navtop_dropdown">
                    秋季招募
                    <i class="dropdown inverted icon"></i>
                    <div class="menu">
                        <a class="item" href="{% url 'rdss_index' %}">
                            活動資訊
                        </a>
                        <a class="item" href="{% url 'rdss_jobs' %}">
                            職缺列表
                        </a>
                        {# <a class="item" href="{% url 'rdss_querypts' %}"> #}
                        {#     查集點 #}
                        {# </a> #}
                    </div>
                </div>
            {% endif %}
        <a class="item navtop_rdss_popup" href="{% url 'mentor_index' %}">
            職涯服務
        </a>
        <a class="item" href="{% url 'company_visit_index' %}">
            企業參訪
        </a>
        <a class="item" href="{% url 'monograph_index' %}">
            專刊
        </a>
        <a class="item" href="{% url 'FAQ' %}">
            常見問題
        </a>
        {% if user.is_authenticated and user.is_staff %}
            <!--工作人員!-->
            <a class="item" href="/admin">
                工作人員後端
            </a>
            <a class="right item" href="{% url 'logout' %}">
                登出 {{ request.user.username }}
            </a>
        {% else %}
            <a class="right item" href="{% url 'login' %}">
                廠商入口
            </a>
        {% endif %}
    {% endif %}
    
    <div class="item ui dropdown item nav-translation-menu" id="translate_dropdown" style="font-size: 13pt;">
        <div id="google_translate_element" style="display: none;"></div>
        <div class="text">語言</div>
        <div class="menu notranslate">
            <div class="item nav-translation-menu" data-value="zh-TW" onclick="goTranslate('zh-TW')">繁體中文</div>
            <div class="item nav-translation-menu" data-value="zh-CN" onclick="goTranslate('zh-CN')">简体中文</div>
            <div class="item nav-translation-menu" data-value="en" onclick="goTranslate('en')">English</div>
            <div class="item nav-translation-menu" data-value="ja" onclick="goTranslate('ja')">日本語</div>
            <div class="item nav-translation-menu" data-value="ko" onclick="goTranslate('ko')">한국어</div>
        </div>
        <i class="dropdown icon"></i>
    </div>
</div>

