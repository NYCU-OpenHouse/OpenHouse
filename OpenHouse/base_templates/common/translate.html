{% load static %}
<!-- Google Translate -->
<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'zh-TW',
            autoDisplay: false,
            includedLanguages: 'zh-TW,zh-CN,en,ja,ko',
            layout: google.translate.TranslateElement.InlineLayout.VERTICAL
        }, 'google_translate_element');
    }
    $(window).load(function() {
        $('.goog-te-gadget').html($('.goog-te-gadget div'));
    });

    $(function(){
        $('.selectpicker').selectpicker();
    });

    function goTranslate(lang) {
        $('.goog-te-combo').val(lang);

        const triggerEvent = (element, eventName) => {
            const event = new Event(eventName);
            element.dispatchEvent(event);
        };
        triggerEvent(document.querySelector('.goog-te-combo'), 'change');
    }
</script>
<div class="ui dropdown item" id="translate_dropdown">
    <div id="google_translate_element" style="display: none;"></div>
    <i class="dropdown icon"></i>&nbsp;
    <div class="text">語言</div>
    <div class="menu notranslate">
        <div class="item" data-value="zh-TW" onclick="goTranslate('zh-TW')">繁體中文</div>
        <div class="item" data-value="zh-CN" onclick="goTranslate('zh-CN')">简体中文</div>
        <div class="item" data-value="en" onclick="goTranslate('en')">English</div>
        <div class="item" data-value="ja" onclick="goTranslate('ja')">日本語</div>
        <div class="item" data-value="ko" onclick="goTranslate('ko')">한국어</div>
    </div>
</div>